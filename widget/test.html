<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Agent Widget Test</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            margin-bottom: 40px;
        }

        h1 {
            color: #2563eb;
            margin-bottom: 30px;
            text-align: center;
        }

        .demo-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 8px;
            border-left: 4px solid #2563eb;
        }

        .demo-section h3 {
            color: #1e40af;
            margin-bottom: 15px;
        }

        .button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            margin: 5px;
            transition: all 0.2s ease;
        }

        .button:hover {
            background: #1d4ed8;
            transform: translateY(-1px);
        }

        .code {
            background: #1f2937;
            color: #f9fafb;
            padding: 20px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-card {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .feature-card h4 {
            color: #2563eb;
            margin-bottom: 10px;
        }

        .status {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: inline-block;
            margin: 10px 0;
        }

        .status.connected {
            background: #dcfce7;
            color: #166534;
        }

        .status.error {
            background: #fef2f2;
            color: #dc2626;
        }

        .footer {
            text-align: center;
            color: #6b7280;
            margin-top: 40px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ¤– AI Agent Widget Test Page</h1>

        <div class="demo-section">
            <h3>âœ¨ Widget Status</h3>
            <p>The AI Agent widget should appear in the bottom-right corner of your screen.</p>
            <div id="widget-status" class="status error">Widget Loading...</div>

            <h3>ðŸŽ® Widget Controls</h3>
            <button class="button" onclick="openWidget()">Open Widget</button>
            <button class="button" onclick="closeWidget()">Close Widget</button>
            <button class="button" onclick="sendTestMessage()">Send Test Message</button>
            <button class="button" onclick="clearChat()">Clear Chat</button>
            <button class="button" onclick="showConversation()">Show Conversation</button>
        </div>

        <div class="demo-section">
            <h3>ðŸŽ¨ Theme Demonstrations</h3>
            <p>Test different widget themes and configurations:</p>
            <button class="button" onclick="changeTheme('default')">Default Theme</button>
            <button class="button" onclick="changeTheme('dark')">Dark Theme</button>
            <button class="button" onclick="changeTheme('light')">Light Theme</button>
            <button class="button" onclick="changePosition('bottom-left')">Bottom Left</button>
            <button class="button" onclick="changePosition('bottom-right')">Bottom Right</button>
            <button class="button" onclick="changeColors('#e11d48', '#f43f5e')">Red Theme</button>
            <button class="button" onclick="changeColors('#059669', '#10b981')">Green Theme</button>
        </div>

        <div class="demo-section">
            <h3>ðŸ“Š Widget Features</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>ðŸ§  Intelligent Responses</h4>
                    <p>World-class AI powered by your concierge intelligence system</p>
                </div>
                <div class="feature-card">
                    <h4>ðŸ“± Responsive Design</h4>
                    <p>Works perfectly on desktop, tablet, and mobile devices</p>
                </div>
                <div class="feature-card">
                    <h4>ðŸŽ¨ Customizable</h4>
                    <p>Themes, colors, positions, and branding options</p>
                </div>
                <div class="feature-card">
                    <h4>ðŸ“ˆ Analytics Ready</h4>
                    <p>Tracks user interactions and conversation metrics</p>
                </div>
                <div class="feature-card">
                    <h4>â™¿ Accessible</h4>
                    <p>Keyboard navigation, screen reader support, high contrast</p>
                </div>
                <div class="feature-card">
                    <h4>ðŸ”’ Secure</h4>
                    <p>API key authentication and secure data transmission</p>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h3>ðŸ’» Integration Code</h3>
            <p>Here's the exact code needed to embed this widget on any website:</p>

            <div class="code">
<!-- AI Agent Embed Code -->
&lt;script&gt;
  (function() {
    var script = document.createElement('script');
    script.src = 'https://cdn.yourdomain.com/agent-widget-complete.js';
    script.async = true;
    script.onload = function() {
      YourAgent.init({
        agentId: 'your-agent-id',
        apiKey: 'your-api-key',
        apiBaseUrl: 'https://api.yourdomain.com',
        title: 'AI Assistant',
        welcomeMessage: 'Hi! How can I help you today?',
        theme: 'default',
        position: 'bottom-right',
        primaryColor: '#2563eb'
      });
    };
    document.head.appendChild(script);
  })();
&lt;/script&gt;
<!-- End AI Agent Embed Code -->
            </div>

            <h4>Configuration Options:</h4>
            <div class="code">
{
  // Required
  agentId: 'your-agent-id',
  apiKey: 'your-api-key',

  // Optional
  apiBaseUrl: 'https://api.yourdomain.com',
  position: 'bottom-right', // bottom-left, top-right, top-left
  theme: 'default', // default, dark, light
  primaryColor: '#2563eb',
  accentColor: '#3b82f6',
  title: 'AI Assistant',
  subtitle: 'Powered by AI',
  welcomeMessage: 'Hi! How can I help you today?',
  placeholder: 'Type your message...',
  avatar: 'https://example.com/avatar.png',
  autoOpen: false,
  autoOpenDelay: 1000,
  showTypingIndicator: true,
  showTimestamps: false,
  enableSound: false,
  analytics: true,
  debug: false,
  businessHours: {
    start: '09:00',
    end: '17:00',
    timezone: 'UTC'
  },

  // Callbacks
  onOpen: function() { console.log('Widget opened'); },
  onClose: function() { console.log('Widget closed'); },
  onMessage: function(data) { console.log('Message:', data); },
  onError: function(error) { console.log('Error:', error); }
}
            </div>
        </div>

        <div class="footer">
            <p>ðŸš€ Powered by AI Agent Platform - The world's most intelligent embeddable concierge system</p>
        </div>
    </div>

    <!-- Load the widget -->
    <script src="agent-widget-complete.js"></script>

    <!-- Initialize the widget -->
    <script>
        // Initialize widget when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Check if YourAgent is available
            if (window.YourAgent) {
                // Initialize with demo configuration
                YourAgent.init({
                    agentId: 'demo-agent-123',
                    apiKey: 'demo-api-key-456',
                    apiBaseUrl: 'http://localhost:8000', // Your backend URL
                    title: 'Demo AI Assistant',
                    subtitle: 'Powered by Intelligence',
                    welcomeMessage: 'Hi! I\'m your AI assistant. Try asking me about our platform features!',
                    theme: 'default',
                    position: 'bottom-right',
                    primaryColor: '#2563eb',
                    accentColor: '#3b82f6',
                    showTypingIndicator: true,
                    analytics: true,
                    debug: true, // Enable debug mode for testing

                    // Callbacks for testing
                    onOpen: function() {
                        console.log('âœ… Widget opened');
                        updateStatus('connected', 'Widget Active');
                    },
                    onClose: function() {
                        console.log('âŒ Widget closed');
                    },
                    onMessage: function(data) {
                        console.log('ðŸ’¬ Message:', data);
                    },
                    onError: function(error) {
                        console.error('ðŸš¨ Widget error:', error);
                        updateStatus('error', 'Connection Error');
                    }
                });

                updateStatus('connected', 'Widget Ready');
            } else {
                updateStatus('error', 'Widget Failed to Load');
            }
        });

        // Test functions
        function openWidget() {
            if (window.YourAgent) {
                YourAgent.open();
            }
        }

        function closeWidget() {
            if (window.YourAgent) {
                YourAgent.close();
            }
        }

        function sendTestMessage() {
            if (window.YourAgent) {
                YourAgent.sendProgrammaticMessage("Tell me about your platform's key features and benefits.");
                YourAgent.open();
            }
        }

        function clearChat() {
            if (window.YourAgent) {
                YourAgent.clearConversation();
            }
        }

        function showConversation() {
            if (window.YourAgent) {
                const conversation = YourAgent.getConversation();
                console.log('Current conversation:', conversation);
                alert('Conversation data logged to console (F12 to view)');
            }
        }

        function changeTheme(theme) {
            if (window.YourAgent) {
                YourAgent.updateConfig({ theme: theme });
            }
        }

        function changePosition(position) {
            if (window.YourAgent) {
                YourAgent.updateConfig({ position: position });
                // Reload widget to apply position change
                setTimeout(() => {
                    location.reload();
                }, 100);
            }
        }

        function changeColors(primary, accent) {
            if (window.YourAgent) {
                YourAgent.updateConfig({
                    primaryColor: primary,
                    accentColor: accent
                });
            }
        }

        function updateStatus(type, message) {
            const statusEl = document.getElementById('widget-status');
            if (statusEl) {
                statusEl.className = `status ${type}`;
                statusEl.textContent = message;
            }
        }
    </script>
</body>
</html>